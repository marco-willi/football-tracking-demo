# Football Player Tracking Demo Configuration

# Video source
video:
  url: "https://www.youtube.com/watch?v=Rq4QD4vKjz8"
  start_time: "35:18"  # Format: MM:SS
  end_time: "36:20"    # Format: MM:SS
  input_path: "data/match.mp4"

# Detection parameters
#
# YOLO26 model variants (COCO-pretrained, 640px input):
# Source: https://docs.ultralytics.com/models/yolo26/
#
#   Model        | Params | FLOPs (B) | mAP50-95 | CPU ONNX (ms) | T4 TRT (ms) | Notes
#   -------------|--------|-----------|----------|---------------|-------------|------------------------------
#   yolo26n.pt   |  2.4M  |    5.4    |   40.9   |     38.9      |     1.7     | Nano   – fastest, least accurate
#   yolo26s.pt   |  9.5M  |   20.7    |   48.6   |     87.2      |     2.5     | Small  – good speed/accuracy trade-off
#   yolo26m.pt   | 20.4M  |   68.2    |   53.1   |    220.0      |     4.7     | Medium – balanced
#   yolo26l.pt   | 24.8M  |   86.4    |   55.0   |    286.2      |     6.2     | Large  – high accuracy
#   yolo26x.pt   | 55.7M  |  193.9    |   57.5   |    525.8      |    11.8     | XLarge – best accuracy, slowest
#
#   Model        | Params | FLOPs (B) | mAP50-95 | CPU ONNX (ms) | T4 TRT (ms) | Notes
#   -------------|--------|-----------|----------|---------------|-------------|------------------------------
#   yolov8s.pt   | 11.2M  |   28.6    |   44.9   |    128.4      |     1.2     | Small  – faster legacy baseline
#   yolov8x.pt   | 68.2M  |  257.8    |   53.9   |    479.1      |     3.5     | XLarge – strongest legacy model
#
# Recommendation: prefer yolo26 variants — higher mAP and faster CPU inference than YOLOv8.

detection:
  model: "yolo26l.pt"  # See table above for all variants
  model_dir: "checkpoints"  # Directory to store downloaded model weights
  confidence_threshold: 0.10
  nms_iou_threshold: 0.45 # only for yolov8
  class_filter: [0]  # COCO class IDs: 0 = person
  device: "cuda"  # Options: cpu, cuda, mps

# HUD masking (remove UI overlays)
hud_mask:
  enabled: false
  top_percent: 0.05    # Mask top 5% of frame
  bottom_percent: 0.10 # Mask bottom 10% of frame

# Detection shape filter (bounding box size and aspect ratio)
detection_shape_filter:
  enabled: true
  min_bbox_width: 10    # Minimum detection width in pixels
  min_bbox_height: 15   # Minimum detection height in pixels
  max_bbox_width: 400   # Maximum detection width in pixels
  max_bbox_height: 600  # Maximum detection height in pixels
  min_aspect_ratio: 0.2 # Minimum height/width ratio
  max_aspect_ratio: 5.0 # Maximum height/width ratio

# Playing field color mask (HSV-based green region filter)
playing_field_mask:
  enabled: true
  hsv_lower: [36, 40, 30]   # HSV lower bound for green
  hsv_upper: [70, 255, 180] # HSV upper bound for green
  morph_kernel_size: 50     # Morphological closing kernel size
  min_overlap: 0.2          # Min fraction of bottom-half bbox pixels on field

# Tracking parameters (ByteTrack)
tracking:
  track_buffer: 30      # Frames to keep lost tracks
  match_threshold: 0.8  # IOU threshold for matching
  frame_rate: 60        # Video frame rate (for velocity estimation)
  track_activation_threshold: 0.25 # Minimum confidence to activate new track

# Visualization
visualization:
  show_boxes: true
  show_ids: true
  show_trails: true
  trail_length: 120      # Frames to show in motion trail
  box_thickness: 2
  font_scale: 0.6
  font_thickness: 2

# Output paths
output:
  video_path: "outputs/demo.mp4"
  tracks_path: "outputs/tracks.jsonl"
  metrics_path: "outputs/track_stats.png"
  gif_path: "outputs/demo.gif"
  gif_start_frame: 150  # Frame to start GIF clip
  gif_duration: 5       # Duration in seconds
  gif_width: 720        # Width in pixels (maintains aspect ratio)

# Performance
performance:
  process_every_n_frames: 1  # Set > 1 to skip frames
  display_progress: true
  save_video_fps: null  # null = use source fps, or specify custom fps
